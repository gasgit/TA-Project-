##Glen Gardiner -  G00305555

##Countdown Letters Game Solver

###Github - https://github.com/gasgit/TA-Project-


###Countdown Letters Game
Contestants are required to randomly select nine letters from two piles, vowels and consonants.
There has to be at least 3 vowels and at least 4 consonants in the complete selection.
Valid selections are (3 vowels and 6 coconsonants, 4 vowels and 5 consonants, 5 vowels and 4 consonants)
In the game the players have 30 seconds to find the longest word possible using the selected letters.
Proper nouns are not permitted.


### Words list
I have used different collections of words found online and created from the system to test with.
The script will use any wordlist

1) word list was created from unix command:  cat /usr/share/dict/words > words.txt, 99171 words.

2) word list was created from unix command:  cat /usr/share/dict/british-english-insane > british-english-insane.txt, 650656 words.

3) word list from  http://tug.ctan.org/tex-archive/syst...dt/dict/uk.zip i called uk.txt, 153222 words.

4) word list from  https://github.com/dwyl/english-words/blob/master/words.txt, renamed wordsFromGit.txt, 354985 words.

5) nouns list from http://www.desiquintans.com/nounlist
                   http://www.desiquintans.com/downloads/nounlist/nounlist.txt, renamed nouns.txt, 2327 words.
                   Used in a previous version


### Python script
My script is (anagramSolver8.py) in this repository and it works as follows.
The purpose of this script is to find a conundrum the longest words possible.

The script will find all conundrums if any and all other words of decreasing length possible.

I have used lists, sets, regular loops and for else statements to complete this task.
As its a python script i have opted to use one of the best built in tools **itertools**.
Permutations is only a single part of itertools and what i use here. Input Letters are either
generated by the script or input manually.

This is a sample showing how the list and set contents remain the same as long as the input
letters are unique. In this example 'abc'

```
Enter letters: abc
Perms: ['a', 'b', 'c', 'ab', 'ac', 'ba', 'bc', 'ca', 'cb', 'abc', 'acb', 'bac', 'bca', 'cab', 'cba']
Len perms:  15
Set:  {'ca', 'bc', 'c', 'ba', 'b', 'cb', 'acb', 'cba', 'abc', 'bca', 'a', 'bac', 'ac', 'cab', 'ab'}
Len set:  15

```

The set removes duplicates in this instance close to half the size of the list, reducing search.


```

Enter letters: aba
Perms: ['a', 'b', 'a', 'ab', 'aa', 'ba', 'ba', 'aa', 'ab', 'aba', 'aab', 'baa', 'baa', 'aab', 'aba']
Len perms:  15
Set:  {'ba', 'ab', 'b', 'aba', 'aab', 'aa', 'baa', 'a'}
Len set:  8


```


### Preprocessing

The script (parse_file.py) is used to create a file called (processedFile.txt).
The function processFile() will open the selected file, read in content, split into list called
contents. This list is parsed with any word >2, <= max_length and is lowercase written out to processedFile.txt. The exclusion of any capitalized words removes proper nouns.


```python
max_length = 9

def processFile(file_name):
    fw = open('processedFile.txt', 'w')
    with open(file_name , 'r') as f:
        content = f.read()
        contents = content.split()
        for w in contents:
            if len(w) >2 and len(w) <= max_length and w.islower():
                fw.write(w + '\n')
    print('File Processed')
    print('Run:  python3 anagramSolver8.py')


#**************    choose one    **********************************

#file_name = 'british-english-insane.txt'
#file_name = 'words.txt'
#file_name = 'uk.txt'
file_name = 'wordsFromGit.txt'


processFile(file_name)


```
To run the file_parse script

```bash
python3 file_parse.py

```



### Main script

To run the script random generated letters required method call

```
inputLetters = letters_selection()

check(get_perms(), set_content_input(get_contents()))

```


To run manually entering letters


```
inputLetters = input('Enter letters: ')

check(get_perms(), set_content_input(get_contents()))


```

To run the script

```bash
python3 anagramSolver8.py

```

To change letter selection requires comment/uncomment in letters_selection method
In this example its 4 vowels, 5 consonants

```

  # l = random.sample(v,3)
  # k = random.sample(c,6)


  l = random.sample(v,4)
  k = random.sample(c,5)


  # l = random.sample(v,5)
  # k = random.sample(c,4)


```


### Functions

letters_selection() function to generate the random inputLetters.

get_perms() using itertools to generate a list of all permutations from inputLetters, returning a set to
remove duplicates.

```python

def get_perms():
    perms = []
    for i in range(2, len(inputLetters) + 1):
        for p in permutations(inputLetters, i):
            perms.append( "".join(p))
    print('Perms @', time.clock() - get_contents_time)
    set_perms = set(perms)
    print('Set perms @:', time.clock() - get_perms_time, "seconds")
    return set_perms

```


get_contents() opens and read in file, parses to list and converts to set_contents.

```python


def get_contents():
    with open('processedFile.txt', 'r') as f:
        con = []
        content = f.read()
        contents = content.split()
        for w in contents:
            con.append(w)
    set_contents = set(con)
    print('Total List Contents:', len(contents))
    print('Total Set Contents:', len(set_contents))
    print('Parse file @:', time.clock() - get_contents_time, "seconds")
    return set_contents


```


set_content_input() check InputLetters against each word in set_contents to create set_contents_Checked.

```python

def set_content_input(set_contents):
    result = []
    for w in set_contents:
        for letter in w:
            if letter not in inputLetters:
                break
        else:
            result.append(w)
    set_contents_Checked = set(result)
    return set_contents_Checked
    print('Check Input @:', time.clock() - check_input, "seconds")


```

check() ckecking set_perms against set_contents_Checked. I looped here to print results etc




### Efficiency


Even with the files prepared having only word lengths, nouns removed etc the word list are quite large.
Biggest cost to the processing time in this script is getting permutations.

All times shown are at completion of task

InputLetters @: 0.0002909999999999996 seconds.
Just Perms @ 0.239487.
Set perms @: 0.33045599999999997 seconds.
Parse file @: 0.39643300000000004 seconds.
Before print @: 0.532674 seconds.
Total @: 0.532954 seconds.



This is the result from random input letters of (4 vowels, 5 consonants) using wordsFromGit.txt.

```
Random vowels: ['o', 'i', 'o', 'a']
Random cons: ['r', 't', 'p', 'p', 'n']
InputLetters: aorippotn
InputLetters @: 0.0002909999999999996 seconds
Perms @ 0.239487
Set perms @: 0.33045599999999997 seconds
Total List Contents: 193207
Total Set Contents: 193206
Parse file @: 0.39643300000000004 seconds
Found 9 @: 0.466143 seconds
Found 9 @: 0.503356 seconds
Before print @: 0.532674 seconds


```

### Results

```
InputLetters: aorippotn
----------------------------
Total possible words: 302
----------------------------
Possible 9: ['apportion', 'appointor']
----------------------------
Possible 8: ['protopin', 'tropaion', 'opinator']
----------------------------
Possible 7: ['pronota', 'oration', 'patroon', 'pronaoi', 'ontario', 'atropin', 'appoint', 'portion', 'tappoon']
----------------------------
Possible 6: ['parton', 'rippon', 'papion', 'option', 'tropia', 'portia', 'ratoon', 'ropani', 'proton', 'porion', 'aroint', 'tro
pin', 'pronto', 'piroot', 'portio', 'norito', 'potion', 'propio', 'troppo', 'inport', 'patron', 'tarpon', 'porina', 'pitpan', '
popian', 'ration', 'opaion', 'patrin', 'apport', 'intrap']
----------------------------

```
### Included

Included in this repository.
Testing folder with earlier versions, test files and wordlists.
file_parse.py - file preperation.
anagramSolver8.py - run Solver.
british-english-insane.txt - wordlist.
uk.txt - wordlist.
wordsFromGit.txt - wordlist.





### References

https://docs.python.org/3/contents.html
